import sys
input = sys.stdin.readline

def find_parent(parents, index):
    if parents[index] != index:
        parents[index] = find_parent(parents, parents[index])
    return parents[index]

def union_parent(parents, F, S):
    F = find_parent(parents, F)
    S = find_parent(parents, S)
    if F < S:
        parents[S] = F
    else:
        parents[F] = S

N, M = map(int, input().split())
parents = [0] * (N + 1)
for i in range(1, N + 1):
    parents[i] = i

roads = []
for i in range(1, M + 1):
    F, S, cost = map(int, input().split())
    roads.append((cost, F, S))

roads.sort()

result = 0
last = 0
for road in roads:
    cost, F, S = road
    if find_parent(parents, F) != find_parent(parents, S):
        union_parent(parents, F, S)
        result += cost
        last = cost

print(result - last)